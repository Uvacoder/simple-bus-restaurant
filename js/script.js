"use strict";const header=document.querySelector(".header"),stickyLogo=document.querySelector(".sticky-logo-container"),nav=document.querySelector(".nav"),navHeight=nav.getBoundingClientRect().height,navLinks=document.querySelectorAll(".nav__link"),allSections=document.querySelectorAll(".section"),allNavLinks=document.querySelector(".nav__list"),lastItem=document.querySelector(".js--nav-item-4"),stickyArrow=document.querySelector(".sticky__arrow"),navArrow=document.querySelector(".nav__arrow"),widthBelow672px=window.matchMedia("(max-width: 42em)"),widthBelow576px=window.matchMedia("(max-width: 36em)"),imgTargets=document.querySelectorAll("img[data-src]"),imgFallbacks=document.querySelectorAll("img[data-fallback]"),inputCategory=document.querySelector(".menu__dropdown"),allMenuItems=document.querySelectorAll(".menu__items-grid"),contactForm=document.querySelector(".form"),formInputs=document.querySelectorAll(".form__input"),formTextarea=document.querySelector(".form__textarea"),submitBtn=document.querySelector(".form__submit"),submitResponseBlock=document.querySelector(".submit-clicked"),contactSection=document.querySelector(".section-contact"),stickyNav=function(e){const[t]=e;t.isIntersecting?(stickyArrow.classList.add("visibleNo"),nav.classList.remove("sticky"),stickyLogo.classList.add("hidden")):(stickyArrow.classList.remove("visibleNo"),nav.classList.add("sticky"),stickyLogo.classList.remove("hidden"))},headerObserver=new IntersectionObserver(stickyNav,{root:null,rootMargin:`-${navHeight}px`,threshold:0});headerObserver.observe(header);const toggleAct=function(e){const t=e.find((e=>e.isIntersecting));if(!t)return;const s="#"+t.target.id;let o;Array.from(navLinks,(e=>{e.getAttribute("href")===s&&(o=e)})),navLinks.forEach((e=>e.classList.remove("nav__link--active"))),o.classList.add("nav__link--active")},sectionObs=new IntersectionObserver(toggleAct,{root:null,threshold:.4});allSections.forEach((e=>sectionObs.observe(e)));const toggleStickyArrow=function(e){const[t]=e;t.isIntersecting?stickyArrow.classList.add("hidden"):stickyArrow.classList.remove("hidden")},toggleNavArrow=function(e){const[t]=e;t.isIntersecting?navArrow.classList.add("hidden"):navArrow.classList.remove("hidden")},options={root:nav,threshold:1},obsMobileSticky=new IntersectionObserver(toggleStickyArrow,options),obsMobileNav=new IntersectionObserver(toggleNavArrow,options),checkWidth=function(){widthBelow672px.matches?obsMobileSticky.observe(lastItem):(obsMobileSticky.unobserve(lastItem),stickyArrow.classList.add("hidden")),widthBelow576px.matches?obsMobileNav.observe(lastItem):(obsMobileNav.unobserve(lastItem),navArrow.classList.add("hidden"))};checkWidth(),widthBelow672px.addEventListener("change",checkWidth),widthBelow576px.addEventListener("change",checkWidth);const smoothScroll=function(e){if(e.preventDefault(),e.target.classList.contains("nav__link")){const t=e.target.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth"}),e.target.blur()}};allNavLinks.addEventListener("click",smoothScroll);const removeLazyImg=e=>e.target.classList.remove("lazy-img"),loadImg=function(e,t){const[s,...o]=e;s.isIntersecting&&(s.target.src=s.target.dataset.src,o[0]&&o.map((e=>e.target.src=e.target.dataset.src)),s.target.addEventListener("load",removeLazyImg),o[0]&&o.map((e=>e.target.addEventListener("load",removeLazyImg))),t.unobserve(s.target),o[0]&&o.map((e=>t.unobserve(e.target))))},imgObserver=new IntersectionObserver(loadImg,{root:null,rootMargin:"200px",threshold:0});imgTargets.forEach((e=>imgObserver.observe(e)));const gracefulImg=e=>e.target.src=e.target.dataset.fallback;imgFallbacks.forEach((e=>e.addEventListener("error",gracefulImg)));const toggleMenuCategory=function(e){e.target.blur();const t=inputCategory.selectedIndex;allMenuItems.forEach((e=>+e.dataset.category!==t?e.classList.remove("visible-grid"):e.classList.add("visible-grid")))};inputCategory.addEventListener("change",toggleMenuCategory);const patterns={name:new RegExp("^[a-z]{2,} [a-z]{2,}$","i"),email:new RegExp("^([a-z\\d\\.-]+)@([a-z\\d-]+)\\.([a-z]{2,8})(\\.[a-z]{2,8})?$","i"),message:new RegExp("^[^]+$")},validate=function(e,t){t.test(e.value)?(e.classList.add("valid"),e.classList.remove("invalid")):(e.classList.add("invalid"),e.classList.remove("valid"))},passToValidator=function(e){var t;"submit"!==e.target.type&&e.target&&(t=e.target,patterns[e.target.name].test(t.value)?(t.classList.add("valid"),t.classList.remove("invalid")):(t.classList.add("invalid"),t.classList.remove("valid")))};function handleSubmit(e){e.preventDefault(),contactSection.classList.add("section-override"),submitResponseBlock.classList.add("fadeInRight"),submitResponseBlock.classList.remove("hidden")}contactForm.addEventListener("keyup",passToValidator),submitBtn.addEventListener("click",handleSubmit);const footerDate=document.querySelector(".display-date");footerDate.innerHTML=(new Date).getFullYear();